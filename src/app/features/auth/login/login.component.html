<div class="auth-container">
  <div class="auth-wrapper">
    <p-card [style]="{ width: '100%', maxWidth: '450px' }" class="auth-card shadow-2">
      <div class="auth-header">
        <div class="logo-circle">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-capsule"
            viewBox="0 0 16 16" aria-hidden="true" focusable="false">
            <path
              d="M1.828 8.9 8.9 1.827a4 4 0 1 1 5.657 5.657l-7.07 7.071A4 4 0 1 1 1.827 8.9m9.128.771 2.893-2.893a3 3 0 1 0-4.243-4.242L6.713 5.429z" />
          </svg>
        </div>

        <h2 class="auth-title">Sistema de Farmacia</h2>
        <p class="auth-subtitle">Ingresa a tu cuenta</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form" novalidate>

        <div class="field">
          <p-floatlabel>
            <input pInputText id="usernameOrEmail" formControlName="usernameOrEmail" class="w-full"
              [class.ng-invalid]="usernameOrEmail?.invalid && (usernameOrEmail?.touched || usernameOrEmail?.dirty)" />
            <label for="usernameOrEmail">Usuario o Email</label>
          </p-floatlabel>

          <small class="error-message"
            *ngIf="usernameOrEmail?.invalid && (usernameOrEmail?.touched || usernameOrEmail?.dirty)">
            <span *ngIf="usernameOrEmail?.errors?.['required']">El usuario o email es requerido.</span>
          </small>
        </div>

        <div class="field">
          <p-floatlabel>
            <p-password id="password" formControlName="password" [toggleMask]="true" [feedback]="false"
              styleClass="w-full" inputStyleClass="w-full"
              [class.ng-invalid]="password?.invalid && (password?.touched || password?.dirty)">
            </p-password>
            <label for="password">Contrase침a</label>
          </p-floatlabel>

          <small class="error-message" *ngIf="password?.invalid && (password?.touched || password?.dirty)">
            <span *ngIf="password?.errors?.['required']">La contrase침a es requerida.</span>
            <span *ngIf="password?.errors?.['minlength']">La contrase침a debe tener al menos 4 caracteres.</span>
          </small>
        </div>

        <p-message *ngIf="errorMessage()" severity="error" [text]="errorMessage()" styleClass="w-full mb-3">
        </p-message>

        <div class="d-flex justify-content-center mt-2">
          <p-button type="submit" label="Iniciar Sesi칩n" icon="pi pi-sign-in" [loading]="isLoading()"
            [disabled]="loginForm.invalid || isLoading()" styleClass="p-button-lg">
          </p-button>
        </div>

      </form>
    </p-card>
  </div>
</div>