<app-confirm-modal></app-confirm-modal>
<app-modal-alert></app-modal-alert>

<app-module-header title="Establecimientos" iconClass="bi bi-shop"></app-module-header>

<div class="establishments-page animate-fade-in">
    <app-establishments-list [establishments]="establishments()" [isLoading]="isLoading()" (create)="onOpenForm()"
        (edit)="onOpenForm($event)" (delete)="onDeleteEstablishment($event)" (toggleStatus)="onToggleStatus($event)">
    </app-establishments-list>

    <!-- Modal para Crear/Editar Establecimiento -->
    <app-modal-generic [isVisible]="displayForm()"
        [title]="selectedEstablishmentId() ? 'Editar Establecimiento' : 'Nuevo Establecimiento'"
        (close)="onFormCancelled()">

        <app-establishment-form *ngIf="displayForm()" [establishmentId]="selectedEstablishmentId()"
            (saved)="onFormSaved()" (cancelled)="onFormCancelled()">
        </app-establishment-form>
    </app-modal-generic>
</div>