<div class="accordion">
    <div class="accordion-item">
        <h2 class="accordion-header">
            <div class="siges-container">
                <button class="accordion-button" type="button" (click)="toggleExpanded()" style="cursor: pointer;">
                    <div *ngIf="numeration" class="numeration">
                        {{ numeration }}
                    </div>
                    <span class="span-title">{{ title }}</span>

                    <!-- Validación negativa -->
                    <div *ngIf="formIsFilled === false"
                        class="bg-danger p-1 text-danger ms-auto bg-opacity-10 d-flex align-items-center gap-2"
                        style="font-size: 0.9rem;">
                        <i class="bi bi-square-fill square"></i>
                        <span class="text-alert-validation">Completar los campos requeridos correctamente</span>
                    </div>

                    <!-- Validación positiva con acordeón abierto -->
                    <div *ngIf="formIsFilled === true && internalExpanded"
                        class="bg-success p-1 text-success ms-auto bg-opacity-10 d-flex align-items-center gap-2"
                        style="font-size: 0.9rem;">
                        <i class="bi bi-square-fill square"></i>
                        <span class="text-alert-validation">Se completó los campos requeridos correctamente</span>
                    </div>

                    <!-- Resumen cuando está cerrado -->
                    <ng-container *ngIf="formIsValid && !internalExpanded">
                        <div class="values-summary ms-auto">
                            <span class="text-success ms-auto" style="font-size: 0.9rem;">
                                Se completaron los campos requeridos
                            </span>
                            <br />
                            <span *ngFor="let value of summaryValues" class="badge bg-primary me-1">
                                {{ value }}
                            </span>
                        </div>
                    </ng-container>
                </button>
            </div>
        </h2>

        <div *ngIf="internalExpanded" class="accordion-collapse">
            <div class="accordion-body">
                <ng-content></ng-content>
            </div>
        </div>
    </div>
</div>