<div class="premium-date-container" [class.has-value]="!!value" [class.disabled]="isDisabled">
    <label class="form-label fw-bold mb-2 text-primary small text-uppercase letter-spacing" *ngIf="label">{{ label
        }}</label>

    
    <div class="input-wrapper" (click)="togglePopup()">
        <i class="bi bi-calendar-event input-icon" [class.active]="isOpen"></i>
        <input readonly type="text" class="premium-input form-control" [ngModel]="displayValue" (blur)="onTouched()"
            [disabled]="isDisabled" [required]="required" />
        <div class="focus-border" [class.expanded]="isOpen"></div>
        <i class="bi bi-chevron-down dropdown-icon" [class.rotated]="isOpen"></i>
    </div>

    
    <div class="premium-picker-popup shadow-lg border-0" *ngIf="isOpen" (click)="$event.stopPropagation()">
        
        <div class="calendar-section">
            
            <div class="calendar-header d-flex justify-content-between align-items-center mb-3">
                <button type="button" class="nav-btn btn btn-light btn-sm rounded-circle" (click)="prevMonth()">
                    <i class="bi bi-chevron-left"></i>
                </button>
                <span class="month-year-label fw-bold text-dark">
                    {{ currentMonthName }} <span class="text-primary">{{ currentYearNum }}</span>
                </span>
                <button type="button" class="nav-btn btn btn-light btn-sm rounded-circle" (click)="nextMonth()">
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>

            
            <div class="days-header text-center mb-2">
                <span *ngFor="let d of daysOfWeek" class="fw-bold text-muted small" style="width: 14.28%">{{ d }}</span>
            </div>

            
            <div class="calendar-grid">
                <div *ngFor="let day of calendarDays" class="day-cell" [class.empty]="day.isEmpty"
                    [class.disabled]="day.isDisabled" [class.selected]="day.isSelected" [class.today]="day.isToday"
                    (click)="!day.isEmpty && selectDay(day)">
                    {{ day.day }}
                </div>
            </div>

            
            <div class="calendar-footer pt-3 border-top mt-2 d-flex justify-content-end">
                <button type="button" class="btn btn-link btn-sm text-decoration-none fw-bold"
                    (click)="setToday()">HOY</button>
            </div>
        </div>

        
        <div class="time-section d-flex border-start" *ngIf="includeTime">
            <div class="time-column flex-grow-1 border-end scroll-hide">
                <div *ngFor="let h of hours" class="time-item py-1" [class.selected]="selectedHour === h"
                    (click)="setHour(h)">{{ h | number: '2.0' }}</div>
            </div>
            <div class="time-column flex-grow-1 border-end scroll-hide">
                <div *ngFor="let m of minutes" class="time-item py-1" [class.selected]="selectedMinute === m"
                    (click)="setMinute(m)">{{ m | number: '2.0' }}</div>
            </div>
            <div class="time-column flex-grow-1 ampm-col">
                <div class="time-item py-2" [class.selected]="!isPM" (click)="setAMPM(false)">AM</div>
                <div class="time-item py-2" [class.selected]="isPM" (click)="setAMPM(true)">PM</div>
            </div>
        </div>
    </div>
</div>